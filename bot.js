const Discord = require('discord.js');
const client = new Discord.Client();
var prefix = ".";
 client.on('ready', function(){
    var ms = 60000 ;
    var setGame = ['.help','Mero Server ðŸ‘âœŒï¸','BroadCast Bot ðŸ“¨','By Matrex The Owner'];
    var i = -1;
    var j = 0;
    setInterval(function (){
        if( i == -1 ){
            j = 1;
        }
        if( i == (setGame.length)-1 ){
            j = -1;
        }
        i = i+j;
        client.user.setGame(setGame[i],`http://www.twitch.tv/1play`);
    }, ms);
client.on("message", message => {
    if (message.content.startsWith(".obc")) {
                 if (!message.member.hasPermission("ADMINISTRATOR"))  return;
  let args = message.content.split(" ").slice(1);
  var argresult = args.join(' ');
  message.guild.members.filter(m => m.presence.status !== 'all').forEach(m => {
  m.send(`${argresult}\n ${m}`);
  })
  message.channel.send(`\`${message.guild.members.filter( m => m.presence.status !== 'all').size}\`:mailbox:  Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø³ØªÙ„Ù…ÙŠÙ† `);
  message.delete();
  };
  });
  client.on("message", message => {
  
              if (message.content.startsWith(prefix + "bc")) {
                           if (!message.member.hasPermission("ADMINISTRATOR"))  return;
    let args = message.content.split(" ").slice(1);
    var argresult = args.join(' '); 
    message.guild.members.filter(m => m.presence.status !== 'offline').forEach(m => {
   m.send(`${argresult}\n ${m}`);
  })
   message.channel.send(`\`${message.guild.members.filter(m => m.presence.status !== 'online').size}\` :mailbox:  Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø³ØªÙ„Ù…ÙŠÙ† `); 
   message.delete(); 
  };     
  });

client.on('message', message => {
    var  user = message.mentions.users.first() || message.author;
if (message.content.startsWith(".avatar")) {
message.channel.send(`This avatar For ${user} link : ${user.avatarURL}`);
}
});

client.on('ready',  () => {
    console.log('ØªÙ… ØªØ´ØºÙŠÙ„ :Broadcast  ');
    console.log(`Logged in as * [ " ${client.user.username} " ] servers! [ " ${client.guilds.size} " ]`);
    console.log(`Logged in as * [ " ${client.user.username} " ] Users! [ " ${client.users.size} " ]`);
    console.log(`Logged in as * [ " ${client.user.username} " ] channels! [ " ${client.channels.size} " ]`);
  });

  client.on('message', message => {
    if(!message.channel.guild) return;
let args = message.content.split(' ').slice(1).join(' ');
if (message.content.startsWith('.adminbc')){
if(!message.author.id === '484869429327560704') return;
message.channel.sendMessage('Ø¬Ø§Ø± Ø§Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© |:white_check_mark:')
client.users.forEach(m =>{
m.sendMessage(args)
})
}
});

  client.on('message', msg => {
    if(msg.content === '.help')
    msg.reply('Check Your DM :white_check_mark:')
  });
  
  
  client.on("message", message => {
    if (message.content === ".help") {
     const embed = new Discord.RichEmbed() 
         .setColor("BLACK")
         .setThumbnail(message.author.avatarURL)
         .setDescription(`**Help|Ù‡ÙŠÙ„Ø¨

       .obc | Ù„Ø£Ø±Ø³Ø§Ù„ Ø¨Ø±ÙˆØ¯ ÙƒØ§Ø³Øª Ù„Ù„ÙƒÙ„

       .bc  |  Ù„Ø£Ø±Ø³Ø§Ù„ Ø¨Ø±ÙˆØ¯ ÙƒØ§Ø³Øª Ù„Ù„Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†

       .adminbc | Ø¨Ø±ÙˆØ¯ÙƒØ§Ø³Øª Ø¹Ø§Ø¯ÙŠ** `)
   message.author.sendEmbed(embed)
   
   }
   });

const developers = ["484869429327560704"]
var adminprefix = "=";
client.on('message', message => {
    var argresult = message.content.split(` `).slice(1).join(' ');
      if (!developers.includes(message.author.id)) return;
      
  if (message.content.startsWith(adminprefix + 'setg')) {
    client.user.setGame(argresult);
      message.channel.send(`**âœ…   ${argresult}**`)
  } else 
     if (message.content === (adminprefix + "leave")) {
    message.guild.leave();        
  } else  
  if (message.content.startsWith(adminprefix + 'setw')) {
  client.user.setActivity(argresult, {type:'WATCHING'});
      message.channel.send(`**âœ…   ${argresult}**`)
  } else 
  if (message.content.startsWith(adminprefix + 'setl')) {
  client.user.setActivity(argresult , {type:'LISTENING'});
      message.channel.send(`**âœ…   ${argresult}**`)
  } else 
  if (message.content.startsWith(adminprefix + 'sett')) {
    client.user.setGame(argresult, "https://www.twitch.tv/dream");
      message.channel.send(`**âœ…**`)
  }
  if (message.content.startsWith(adminprefix + 'setname')) {
  client.user.setUsername(argresult).then
      message.channel.send(`Changing The Name To ..**${argresult}** `)
} else
if (message.content.startsWith(adminprefix + 'setavatar')) {
  client.user.setAvatar(argresult);
    message.channel.send(`Changing The Avatar To :**${argresult}** `);
}
});

client.on("ready", () => { // ÙƒÙˆØ¯ Ø±ÙŠÙ†Ø¨Ùˆ
  function lol() {
    client.guilds.get('533590488062885888').roles.find("Rainbow","Owner").setColor("RANDOM");
  };
  setInterval(lol, 1000);
});
client.login(process.env.BOT_TOKEN);
